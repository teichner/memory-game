<svg width="1000" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <pattern id="diamond" [attr.viewBox]="patternViewBox" [attr.width]="patternPercent" [attr.height]="patternPercent">
      <rect x="0" y="0" [attr.width]="patternSize" [attr.height]="patternSize" fill="firebrick" />
      <polygon [attr.points]="patternPolygonPoints" stroke="black" fill="firebrick" stroke-width="1" />
    </pattern>
  </defs>
  <style>
    rect.frame {
    fill: gold;
    border-radius: 10px;
    }

    rect.body {
    }

    .card-text {
    font: 72px sans-serif;
    /* fill: firebrick; */
    }
  </style>
  <g *ngFor="let row of rows; index as i" [attr.transform]="rowTransform(i)">
    <g *ngFor="let card of row; index as j" [attr.transform]="cellTransform(j)" (click)="onCardClick(card)">
      <rect class="frame" x="0" y="0" [attr.width]="cardSize" [attr.height]="cardSize" rx="5" ry="5"></rect>
      <rect class="body" [attr.x]="frameOffset" [attr.y]="frameOffset" [attr.width]="frameSize" [attr.height]="frameSize" [attr.fill]="bodyFill(card)" rx="5" ry="5"></rect>
      <g *ngIf="faceUp(card); else faceDown">
              <rect class="body" [attr.x]="frameOffset" [attr.y]="frameOffset" [attr.width]="frameSize" [attr.height]="frameSize" [attr.fill]="cardColor(card)" rx="5" ry="5"></rect>
        <circle [attr.cx]="circleX" [attr.cy]="circleY" [attr.r]="circleRadius" fill="white"></circle>
        <text class="card-text" [attr.x]="circleX" [attr.y]="circleY" [attr.fill]="cardColor(card)" text-anchor="middle" dominant-baseline="central">{{ card.value }}</text>
      </g>
      <ng-template #faceDown>
        <g >
      <rect class="body" [attr.x]="frameOffset" [attr.y]="frameOffset" [attr.width]="frameSize" [attr.height]="frameSize" fill="url(#diamond)" rx="5" ry="5"></rect>
        </g>
      </ng-template>
    </g>
  </g>
</svg>
